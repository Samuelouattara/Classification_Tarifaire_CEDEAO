<!DOCTYPE html>
<html>
<head>
    <title>Test API</title>
</head>
<body>
    <button id="testBtn">Test API</button>
    <div id="result"></div>

    <script>
        document.getElementById('testBtn').onclick = async function() {
            const result = document.getElementById('result');
            result.innerHTML = 'Test en cours...';
            
            try {
                const response = await fetch('./api.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'save_classified_product',
                        product: {
                            description_produit: 'Test simple',
                            section_produit: 'II',
                            code_tarifaire: '1006.30.00.00'
                        }
                    })
                });
                
                const text = await response.text();
                result.innerHTML = `<pre>Status: ${response.status}\nRÃ©ponse: ${text}</pre>`;
                
            } catch (error) {
                result.innerHTML = `Erreur: ${error.message}`;
            }
        };
    </script>
</body>
</html>